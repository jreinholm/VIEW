var GPhoto2 = require('../build/Release/gphoto2');

var GPhoto = new GPhoto2.GPhoto2();
var camera = null;



function getCamera(callback) {
    // List cameras / assign list item to variable to use below options
    console.log("Searching for cameras...");
    GPhoto.list(function(list) {
        for (var i = 0; i < list.length; i++) {
            if (list[i].model != 'Mass Storage Camera') {
                camera = list[i];
                console.log("camera:", camera);
                break;
            }
        }
        if (!camera) {
            console.log("No cameras found, exiting test");
            exit();
            return;
        }

        console.log('Found', camera.model);
        callback();
    });
}


getCamera(function(){

	camera.listFolders("/");
	camera.listFiles("/");

});
